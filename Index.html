<html lang="en">

<head>
    <meta charset="utf-8">
    <title>D3 Page Template</title>
    <!-- <script src="js/d3/d3.js"  type="text/javascript"></script>
        <script src="js/topojson/topojson.js" type="text/javascript"></script>  -->

    <script src="//d3js.org/d3.v3.min.js" type="text/javascript"></script>
    <script src="//d3js.org/topojson.v1.min.js" type="text/javascript"></script>

    <script src="js/loadmapdata.js"></script>
    <script>var numTowns = 5;</script>
    <link rel="stylesheet" href="css/styles.css">

    <style>
    </style>
</head>

<body>
    <!-- <div class="container"> -->
    <div>
        <div class="header">
            <h3 class="headerText">UK Map</h3>
        </div>
    </div>
    <div>
        <p></p>
        <label for="numberInput" class="inputLabel">Select number of towns:</label>
        <input type="number" name="numberInput" id="numberInput" max="10" min="1" step="1" class="bigText">
        <button type="button" class="bigText" onclick="myFunction()">sumbit</button>

        <div class="slidecontainer">
            <input type="range" min="1" max="10" value="5" class="slider" id="myRange" oninput="getNumberTowns()">
        </div>
    </div>
    <script type="text/javascript">

        function myFunction() {
            let showTowns = document.getElementById("numberInput").value;

            if (showTowns < 1 || showTowns > 10) {
                alert("Number must be between 1 and 10");
                return false;
            }
            else {
                numTowns = showTowns;
                console.log("Show towns:", showTowns);
                setCookie("NumberOfTowns", numTowns, 1);
                window.location.reload(true);
                return; // whatever you want to do with it
            }
        }

        function setCookie(cname, cvalue, exdays) {
            const d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            let expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
            document.getElementById("numberInput").value = cvalue;
        }


       
        function getNumberTowns() {
            var slider = document.getElementById("myRange").value;
        var output = document.getElementById("demo");
        // Update the current slider value (each time you drag the slider handle)
            numTowns = slider;
            document.getElementById("numberInput").value = slider;
            setCookie("NumberOfTowns", numTowns, 1);
            window.location.reload(true);
        }
    </script>
</body>

</html>